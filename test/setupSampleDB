'use strict';

// list of game templates
var templates = [
    { 
        startMoney: 50, 
        templateName: "PowerGrid",
        search: "POWERGRID"
    },
    {
        startMoney: 1500,
        templateName: "Monopoly",
        search: "MONOPOLY" 
    }
]

var dbName = 'gameTemplates';


// make the MongoClient
var MongoClient = require('mongodb').MongoClient;
// specify where you can connect to the database
var url = process.env.DATABASE ? process.env.DATABASE.trim() : 'mongodb://localhost:55555/gameDB';
// connect to the database
MongoClient.connect(url, function(err, db) {
    if(err){
        // something went wrong abort abort!!!
        console.log('Error from DB: ' + err);
        console.log('Did not connect to database');
        return;
    }

    // insert document into the game db
    var insert = function(documents){
        // Get the documents collection
        var collection = db.collection(dbName);
        // Insert some documents
        collection.insert(documents, function(err, result) {
            if(!err){
            }
                db.close();
        });
    };
    
    // if you get here you connected
    console.log( "Connected correctly to Database" );
    console.log(url);

    insert(templates);
});
